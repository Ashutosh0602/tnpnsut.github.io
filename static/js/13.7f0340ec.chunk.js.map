{"version":3,"sources":["pages/studentside/Support/feedback/FeedbackItem.jsx","pages/studentside/Support/feedback/MyFeedbacks.jsx"],"names":["FeedbackItem","item","useState","show","setShow","handleClose","Card","className","style","cursor","overflowX","Body","Row","Col","sm","Title","id","Button","variant","onClick","margin","fontWeight","Date","createdAt","toString","slice","isResolved","resolved_date","resolved_by","Modal","onHide","size","Header","closeButton","Form","Group","Label","Control","name","value","feedback_data","as","rows","disabled","feedback_reply","Footer","MyFeedbacks","state","useContext","AuthContext","feedbacks","setFeedbacks","isLoading","setIsLoading","showResolved","setshowResolved","fetchMyFeedbacks","a","securedAxiosInstance","get","userDetails","student","then","response","data","catch","error","console","log","toast","fetchMyResolvedFeedbacks","useEffect","Loader","Container","Check","type","label","checked","onChange","map","index","key"],"mappings":"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","file":"static/js/13.7f0340ec.chunk.js","sourcesContent":["import React from 'react'\r\nimport { Row, Col, Card, Button, Modal, Form } from \"@themesberg/react-bootstrap\"\r\nimport { useState } from 'react';\r\nimport \"./Feedback.css\"\r\n\r\n\r\nfunction FeedbackItem({item}) {\r\n    const [show, setShow] = useState(false);\r\n\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n\r\n  return (\r\n   <>\r\n    <Card\r\n    className=\"bg-light mb-3\"\r\n    style={{ cursor: \"pointer\", overflowX: \"hidden\" }}\r\n    >\r\n        <Card.Body>\r\n            <Row>\r\n            <Col sm={5}>\r\n                <Card.Title>Feedback ID: {item.id}</Card.Title>\r\n                <Button className=\"mt-3\" variant=\"success\" onClick={handleShow}>Details</Button>\r\n            </Col>\r\n            <Col sm={7}>\r\n            <div className=\"d-flex flex-column align-items-start\">\r\n                <div className=\"d-flex w-100 p-1\">\r\n                    <div>\r\n                        <p style={{ margin: \"0px\", fontWeight: \"700\" }}>\r\n                            Created At : {new Date(item.createdAt)\r\n                            .toString()\r\n                            .slice(0, 15)}\r\n                            ,{\" \"}\r\n                            {new Date(item.createdAt)\r\n                            .toString()\r\n                            .slice(16, 21)}\r\n                        </p>\r\n                    </div>\r\n                    <div\r\n                        className={`tag border rounded px-1 ${\r\n                            item.isResolved ? \"resolved\" : \"pending\"\r\n                        }`}\r\n                        >\r\n                        {item.isResolved ? \"Resolved\" : \"Pending\"}\r\n                    </div>\r\n                </div>\r\n                <div className=\"d-flex w-100 p-1\">\r\n                    <div>\r\n                        <p style={{ margin: \"0px\", fontWeight: \"700\" }}>\r\n                        Resolved At: {item.isResolved ? `${new Date(item.resolved_date).toString().slice(0, 15)}, ${new Date(item.resolved_date).toString().slice(16, 21)}` : \"NA\"}\r\n                        </p>\r\n                    </div>\r\n                </div>  \r\n                <div className=\"d-flex w-100 p-1\">\r\n                    <div>\r\n                        <p style={{ margin: \"0px\", fontWeight: \"700\" }}>\r\n                            Resolved By : {item.isResolved ? item.resolved_by : \"NA\"}\r\n                        </p>\r\n                    </div>\r\n                </div>  \r\n            </div>\r\n            </Col>\r\n            </Row>\r\n        </Card.Body>\r\n    </Card>\r\n    <Modal \r\n    show={show} \r\n    onHide={handleClose}\r\n    size=\"lg\"\r\n    >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title className='text-center'>Feedback Or Query</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n        <Form.Group>\r\n            <Form.Label>Feedback Or Query :</Form.Label>\r\n            <Form.Control\r\n            className=\"mr-2\"\r\n            name=\"feedback_data\"\r\n            value={item.feedback_data}\r\n            id=\"feedback_data\"\r\n            as=\"textarea\"\r\n            rows={5}\r\n            disabled\r\n            />\r\n        </Form.Group>\r\n        <Form.Group>\r\n            <Form.Label>Reply :</Form.Label>\r\n            <Form.Control\r\n            className=\"mr-2\"\r\n            name=\"feedback_data\"\r\n            value={item.isResolved ? item.feedback_reply : \" \"}\r\n            id=\"feedback_data\"\r\n            as=\"textarea\"\r\n            rows={5}\r\n            disabled\r\n            />\r\n        </Form.Group>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n            Close\r\n          </Button>\r\n        </Modal.Footer>\r\n    </Modal>\r\n   </>\r\n  )\r\n}\r\n\r\nexport default FeedbackItem","import React, { useContext } from 'react'\r\nimport { useState, useEffect } from 'react';\r\nimport { AuthContext } from '../../../../context/AuthContext';\r\nimport { securedAxiosInstance } from '../../../../axiosConfig';\r\nimport toast, { Toaster } from \"react-hot-toast\";\r\nimport { Card, Container, Form } from \"@themesberg/react-bootstrap\"\r\nimport Loader from \"../../../../components/Loader\";\r\nimport FeedbackItem from './FeedbackItem';\r\n\r\nfunction MyFeedbacks() {\r\n    const { state } = useContext(AuthContext);\r\n    const [feedbacks, setFeedbacks] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [showResolved, setshowResolved] = useState(false);\r\n\r\n    const fetchMyFeedbacks = async () => {\r\n        securedAxiosInstance\r\n            .get(`/feedbacks?_where[0][student_id]=${state.userDetails.student}&_sort=createdAt:desc`)\r\n            .then((response) => {\r\n                setFeedbacks(response.data)\r\n                setIsLoading(false)\r\n            })\r\n            .catch((error) => {\r\n                setIsLoading(false)\r\n                console.log(error, error.response);\r\n                toast.error(\"Something Went Wrong!\")\r\n            })\r\n    }\r\n\r\n    const fetchMyResolvedFeedbacks = async () => {\r\n        securedAxiosInstance\r\n            .get(`/feedbacks?_where[0][isResolved]=true&_where[1][student_id]=${state.userDetails.student}&_sort=createdAt:desc`)\r\n            .then((response) => {\r\n                setFeedbacks(response.data)\r\n                setIsLoading(false)\r\n            })\r\n            .catch((error) => {\r\n                setIsLoading(false)\r\n                console.log(error, error.response);\r\n                toast.error(\"Something Went Wrong!\")\r\n            })\r\n    }\r\n\r\n    useEffect(() => {\r\n        setIsLoading(true)\r\n        if(showResolved){\r\n            fetchMyResolvedFeedbacks();\r\n        } else {\r\n            fetchMyFeedbacks();\r\n        }\r\n\r\n        // eslint-disable-next-line\r\n    }, [showResolved])\r\n\r\n    if (isLoading) return <Loader />; \r\n\r\n  return (\r\n    <Container className=\"p-4\">\r\n        <Toaster />\r\n        <Card className=\"p-4\">\r\n            <div className=\"d-flex justify-content-between align-items-center mb-3\">\r\n            <div className=\"text-center flex-grow-1\">\r\n                <h3 className=\"mb-0\">My Feedbacks Or Queries</h3>\r\n            </div>\r\n            <div>\r\n                <Form.Check\r\n                type=\"switch\"\r\n                id=\"custom-switch\"\r\n                label=\"Show Resolved\"\r\n                className=\"mb-0\"\r\n                checked={showResolved}\r\n                onChange={() => setshowResolved(!showResolved)}\r\n                />\r\n            </div>\r\n            </div>\r\n            {feedbacks.map((item, index) => (\r\n                <FeedbackItem key={index} item={item} />\r\n            ))}\r\n        </Card>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default MyFeedbacks"],"sourceRoot":""}