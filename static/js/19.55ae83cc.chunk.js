(this["webpackJsonptnp-nsut"]=this["webpackJsonptnp-nsut"]||[]).push([[19],{418:function(e,a,t){"use strict";t.r(a);var r=t(27),l=t.n(r),n=t(51),c=t(21),m=t(13),o=t(39),s=t(409),d=t(305),u=t(40),i=t(106),p=t(61),b=t(372),h=t(394),E=t.n(h),f=t(0),g=t.n(f),v=t(398),_=t.n(v),N=t(52),y=t(109),x=t(18),w=t(111);function C(e){return k.apply(this,arguments)}function k(){return(k=Object(n.a)(l.a.mark((function e(a){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("files",a),e.next=4,N.b.post("/upload",t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,a){return j.apply(this,arguments)}function j(){return(j=Object(n.a)(l.a.mark((function e(a,t){var r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,C(a);case 4:return r=e.sent,e.next=7,N.b.put("/students/resume",{uploadId:r.data[0]._id,index:t});case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){return L.apply(this,arguments)}function L(){return(L=Object(n.a)(l.a.mark((function e(a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,N.b.put("/students/resume/".concat(a));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F=t(103),D=function(e){var a=e.onChange,t=e.currentFile,r=e.uploadFile,l=e.deleteFile,n=e.isLoading;if(t){if(t instanceof File)return g.a.createElement("div",null,g.a.createElement("div",null,g.a.createElement("p",null,"File selected: ",t.name)),g.a.createElement("div",{className:"d-flex"},g.a.createElement(F.a,{className:"me-3",size:"sm",onClick:r,disabled:n},"Upload this file"),g.a.createElement(F.a,{size:"sm",variant:"danger",onClick:function(){return a(null)},disabled:n},"Remove this file")));if(t.url&&t.name)return g.a.createElement("div",null,g.a.createElement("p",null,t.name," :"," ",g.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:t.url},"Open")),g.a.createElement("div",null,g.a.createElement(F.a,{size:"sm",onClick:l},"Delete this file")))}return g.a.createElement(d.a,null,g.a.createElement("input",{type:"file",onChange:a}))},S=function(e){var a=e.resumes,t=e.uploadFn,r=e.deleteFn,m=Object(f.useState)(0),o=Object(c.a)(m,2),s=o[0],b=o[1],h=Object(f.useState)(""),E=Object(c.a)(h,2),v=E[0],_=E[1],N=Object(f.useState)(!1),y=Object(c.a)(N,2),x=y[0],w=y[1],C=function(){var e=Object(n.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,t(v,s);case 3:w(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(n.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,r(v._id);case 3:w(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.useEffect)((function(){_(a[s]||"")}),[a,s]),g.a.createElement("div",null,g.a.createElement("h4",null,"Upload your resume"),g.a.createElement(d.a,{className:"p-4"},g.a.createElement(i.a,null,g.a.createElement(p.a,{lg:4},g.a.createElement(u.a.Select,{disabled:x,value:s,onChange:function(e){var a=e.target.value;b(a)}},g.a.createElement("option",{value:0},"Resume 1"),g.a.createElement("option",{value:1},"Resume 2"),g.a.createElement("option",{value:2},"Resume 3"))),g.a.createElement(p.a,{lg:12},g.a.createElement("div",{className:"mt-3"},g.a.createElement(D,{currentFile:v,onChange:function(e){var a,t=null===e||void 0===e||null===(a=e.target)||void 0===a?void 0:a.files[0];_(t||"")},uploadFile:C,deleteFile:k,isLoading:x}))))))};a.default=function(){var e=Object(f.useContext)(x.a).state,a=Object(f.useContext)(w.a).showNotification,t=Object(s.a)(),r=Object(f.useState)({Name:"",photo:null,branch:"",batch:"",email:"",personal_email:"",blood_group:"",academic_certificates:"",contact_number:"",perm_address:"",curr_address:"",rollNumber:"",sem1:"",sem2:"",pan:"",aadhar:"",sem3:"",sem4:"",sem5:"",sem6:"",cgpa:"",gpa10th:"",gpa12th:"",dropCgpa:"",backlogs:"",graduation_gpa:"",bans:"",appliedCompaniesIntern:"",appliedCompaniesPlacement:"",resumes:null,resume1:null,resume2:null,resume3:null,dob:"",alt_contact_number:"",gender:"Male"}),h=Object(c.a)(r,2),v=h[0],C=h[1],k=Object(f.useState)(!0),j=Object(c.a)(k,1)[0],L=function(){var e=Object(n.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N.b.get("/students/me").then((function(e){var a,t,r,l,n,c,m,o,s,d,u,i,p,b,h,E,f;C({Name:e.data.Name,photo:e.data.photo,branch:e.data.branch,degree:e.data.degree,batch:e.data.batch,email:e.data.email,personal_email:e.data.personal_email,alt_contact_number:e.data.alt_contact_number,gender:e.data.gender,blood_group:e.data.blood_group,academic_certificates:"",contact_number:e.data.contact_number,perm_address:e.data.perm_address,curr_address:e.data.present_address,rollNumber:e.data.rollNumber,sem1:null===(a=e.data)||void 0===a?void 0:a.sem1_gpa,sem2:null===(t=e.data)||void 0===t?void 0:t.sem2_gpa,pan:null===(r=e.data)||void 0===r?void 0:r.pan,aadhar:null===(l=e.data)||void 0===l?void 0:l.aadhar,sem3:null===(n=e.data)||void 0===n?void 0:n.sem3_gpa,sem4:null===(c=e.data)||void 0===c?void 0:c.sem4_gpa,sem5:null===(m=e.data)||void 0===m?void 0:m.sem5_gpa,sem6:null===(o=e.data)||void 0===o?void 0:o.sem6_gpa,cgpa:e.data.cgpa,gpa10th:e.data.cgpa_10th,gpa12th:e.data.cgpa_12th,dropCgpa:null===(s=e.data)||void 0===s?void 0:s.dropCgpa,graduation_gpa:null===(d=e.data)||void 0===d?void 0:d.graduation_gpa,backlogs:null===(u=e.data)||void 0===u?void 0:u.backlogs,bans:null===(i=e.data)||void 0===i?void 0:i.bans,resumes:null===(p=e.data)||void 0===p?void 0:p.resume,resume1:(null===(b=e.data)||void 0===b?void 0:b.resume[0])||null,resume2:(null===(h=e.data)||void 0===h?void 0:h.resume[1])||null,resume3:(null===(E=e.data)||void 0===E?void 0:E.resume[2])||null,dob:null===(f=e.data)||void 0===f?void 0:f.dob,cgpa_before_drop:e.data.cgpa_before_drop})})).catch((function(e){console.log(e,e.response)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(f.useEffect)((function(){L()}),[e]);var F=function(){var e=Object(n.a)(l.a.mark((function e(t,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,O(t,r);case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(2),e.abrupt("return",console.log(e.t0));case 10:a("Resume has been uploaded"),L();case 12:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(a,t){return e.apply(this,arguments)}}(),D=function(){var e=Object(n.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G(t);case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",console.error(e.t0));case 8:L(),a("Resume has been deleted");case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(a){return e.apply(this,arguments)}}();return""===v.Name?g.a.createElement(y.a,null):g.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},g.a.createElement("div",{style:{width:"90%"}},g.a.createElement("div",null,g.a.createElement("h1",null,"Your Profile")),g.a.createElement(d.a,{style:{flexDirection:"row"},border:"light",className:"bg-white shadow-sm p-4"},g.a.createElement(d.a.Body,null,g.a.createElement(d.a.Title,{className:"mb-1"},v.Name),g.a.createElement(d.a.Text,null,v.branch,"| ",v.batch))),g.a.createElement("h4",{className:"mt-3 mb-1 mx-2"},"Personal"),g.a.createElement(u.a,null,g.a.createElement(d.a,{className:"p-4"},g.a.createElement(i.a,null,g.a.createElement(p.a,{md:6,className:"mb-3"},g.a.createElement(u.a.Group,{id:"batch"},g.a.createElement(u.a.Label,{style:{fontSize:"1rem"}},"Name"),g.a.createElement(u.a.Control,{style:t>1200?{width:"75%",float:"right"}:{width:"100"},className:"mr-2",required:!0,type:"text",name:"batch",value:v.Name,placeholder:v.Name,disabled:!0}))),g.a.createElement(p.a,{md:6,className:"mb-3"},g.a.createElement(u.a.Group,{id:"blood_group"},g.a.createElement(u.a.Label,{style:{fontSize:"1rem"}},"Blood Group"),g.a.createElement(u.a.Control,{style:t>1200?{width:"75%",float:"right"}:{width:"100"},className:"mr-2",required:!0,type:"text",name:"blood_group",value:v.blood_group,placeholder:v.blood_group,disabled:!0})))),g.a.createElement(i.a,null,g.a.createElement(p.a,{md:6,className:"mb-3"},g.a.createElement(u.a.Group,null,g.a.createElement(u.a.Label,{className:"mt-2"},"Date of Birth : "),g.a.createElement("div",{style:t>1200?{width:"75%",float:"right"}:{},className:"mr-2"},g.a.createElement(_.a,{timeFormat:!1,closeOnSelect:!1,renderInput:function(e,a){return g.a.createElement(b.a,null,g.a.createElement(b.a.Text,null,g.a.createElement(o.a,{icon:m.b})),g.a.createElement(u.a.Control,{required:!0,type:"text",value:v.dob?E()(v.dob).format("MM/DD/YYYY"):"",placeholder:v.dob?E()(v.dob).format("MM/DD/YYYY"):"",onFocus:a,onChange:function(){},disabled:!0}))}})))),g.a.createElement(p.a,{md:6,className:"mb-3"},g.a.createElement(u.a.Group,{id:"gender"},g.a.createElement(u.a.Label,null,"Gender"),g.a.createElement(u.a.Control,{style:t>1200?{width:"75%",float:"right"}:{},disabled:!0,className:"mr-2",type:"text",name:"gender",value:v.gender,placeholder:v.gender}))),g.a.createElement(p.a,{md:6,className:"mb-3"},g.a.createElement(u.a.Group,{id:"batch"},g.a.createElement(u.a.Label,null,"Batch"),g.a.createElement(u.a.Control,{style:t>1200?{width:"75%",float:"right"}:{},disabled:!0,className:"mr-2",type:"text",name:"batch",value:v.batch,placeholder:v.batch}))),g.a.createElement(p.a,{md:6,className:"mb-3"},g.a.createElement(u.a.Group,{id:"degree"},g.a.createElement(u.a.Label,null,"Degree"),g.a.createElement(u.a.Control,{style:t>1200?{width:"75%",float:"right"}:{},disabled:!0,className:"mr-2",type:"text",name:"degree",value:v.degree,placeholder:v.degree}))),g.a.createElement(p.a,{md:12,className:"mb-3"},g.a.createElement(u.a.Group,{id:"email"},g.a.createElement(u.a.Label,null,"Email"),g.a.createElement(u.a.Control,{style:t>1200?{width:"75%",float:"right"}:{},disabled:!0,className:"mr-2",name:"email",value:v.email,type:"email",placeholder:v.email}))),g.a.createElement(p.a,{md:12,className:"mb-3"},g.a.createElement(u.a.Group,{id:"email"},g.a.createElement(u.a.Label,null,"Personal Email"),g.a.createElement(u.a.Control,{style:t>1200?{width:"75%",float:"right"}:{},className:"mr-2",name:"personal_email",value:v.personal_email,type:"email",placeholder:v.personal_email,disabled:!0})))),g.a.createElement(i.a,null,g.a.createElement(p.a,{md:12,className:"mb-3"},g.a.createElement(u.a.Group,{id:"roll-number"},g.a.createElement(u.a.Label,null,"Roll Number"),g.a.createElement(u.a.Control,{disabled:!0,style:t>1200?{width:"75%",float:"right"}:{},type:"text",className:"mr-2",name:"rollNumber",value:v.rollNumber,placeholder:v.rollNumber}))),g.a.createElement(p.a,{md:12,className:"mb-3"},g.a.createElement(u.a.Group,{id:"branch"},g.a.createElement(u.a.Label,null,"Branch"),g.a.createElement(u.a.Control,{disabled:!0,style:t>1200?{width:"75%",float:"right"}:{},type:"text",className:"mr-2",name:"branch",value:v.branch,placeholder:v.branch})))),g.a.createElement(i.a,null,g.a.createElement(p.a,{md:12,className:"mb-3"},g.a.createElement(u.a.Group,{id:"contact_num"},g.a.createElement(u.a.Label,null,"Contact Number"),g.a.createElement(u.a.Control,{style:t>1200?{width:"75%",float:"right"}:{},className:"mr-2",name:"contact_number",disabled:!0,value:v.contact_number,type:"text",placeholder:v.contact_number}))),g.a.createElement(p.a,{md:12,className:"mb-3"},g.a.createElement(u.a.Group,{id:"contact_num"},g.a.createElement(u.a.Label,null,"Alt. Contact No."),g.a.createElement(u.a.Control,{style:t>1200?{width:"75%",float:"right"}:{},className:"mr-2",name:"alt_contact_number",disabled:!0,value:v.alt_contact_number,type:"text",placeholder:v.alt_contact_number}))),g.a.createElement(p.a,{md:12,className:"mb-3"},g.a.createElement(u.a.Group,{id:"curr_address"},g.a.createElement(u.a.Label,null,"Current Address"),g.a.createElement(u.a.Control,{style:t>1200?{width:"75%",float:"right",mcursor:"no-drop"}:{},name:"present_address",disabled:!0,className:"mr-2",value:v.curr_address,type:"text",placeholder:v.curr_address}))),g.a.createElement(p.a,{md:12,className:"mb-3"},g.a.createElement(u.a.Group,{id:"perm_address"},g.a.createElement(u.a.Label,null,"Permanent Address"),g.a.createElement(u.a.Control,{style:t>1200?{width:"75%",float:"right",mcursor:"no-drop"}:{},name:"perm_address",disabled:!0,className:"mr-2",value:v.perm_address,type:"text",placeholder:v.perm_address}))))),g.a.createElement("h4",{className:"mt-3 mb-1 mx-2"},"Academics"),g.a.createElement(d.a,{className:"p-4"},g.a.createElement(i.a,null,g.a.createElement(p.a,{md:12,className:"mb-3"},g.a.createElement(u.a.Group,{id:"cgpa"},g.a.createElement(u.a.Label,null,"Final CGPA"),g.a.createElement(u.a.Control,{style:t>500?{width:"75%",float:"right",mcursor:"no-drop"}:{mcursor:"no-drop"},className:"mr-2",required:!0,disabled:j,type:"text",name:"cgpa",value:v.cgpa,placeholder:v.cgpa}))),g.a.createElement(p.a,{md:12,className:"mb-3"},g.a.createElement(u.a.Group,{id:"cgpa-drop"},g.a.createElement(u.a.Label,null,"CGPA - Before Drop"),g.a.createElement(u.a.Control,{disabled:j,style:t>500?{width:"75%",float:"right",mcursor:"no-drop"}:{mcursor:"no-drop"},required:!0,className:"mr-2",type:"text",name:"dropCgpa",value:v.cgpa_before_drop,placeholder:v.cgpa_before_drop}))),g.a.createElement(p.a,{md:12,className:"mb-3"},g.a.createElement(u.a.Group,{id:"gpa-12th"},g.a.createElement(u.a.Label,null,"12th Percentage"),g.a.createElement(u.a.Control,{disabled:j,style:t>500?{width:"75%",float:"right",mcursor:"no-drop"}:{mcursor:"no-drop"},required:!0,className:"mr-2",type:"text",name:"cgpa12th",value:v.gpa12th,placeholder:v.gpa12th})))),g.a.createElement(i.a,null,g.a.createElement(p.a,{md:12,className:"mb-3"},g.a.createElement(u.a.Group,{id:"backlogs"},g.a.createElement(u.a.Label,null,"Backlogs"),g.a.createElement(u.a.Control,{style:t>500?{width:"75%",float:"right",mcursor:"no-drop"}:{mcursor:"no-drop"},disabled:j,className:"mr-2",required:!0,type:"text",name:"backlogs",value:v.backlogs,placeholder:v.backlogs}))),g.a.createElement(p.a,{md:12,className:"mb-3"},g.a.createElement(u.a.Group,{id:"bans"},g.a.createElement(u.a.Label,null,"Bans"),g.a.createElement(u.a.Control,{disabled:!0,required:!0,style:t>500?{width:"75%",float:"right",mcursor:"no-drop"}:{mcursor:"no-drop"},type:"text",name:"bans",className:"mr-2",value:v.bans,placeholder:v.bans}))))),g.a.createElement("div",{className:"mt-3"},g.a.createElement(S,{resumes:v.resumes,uploadFn:F,deleteFn:D})))))}}}]);
//# sourceMappingURL=19.55ae83cc.chunk.js.map